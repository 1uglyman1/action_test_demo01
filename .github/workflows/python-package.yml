name: Python package  

on:  
  push:  
    branches: [ "main" ]  
  pull_request:  
    branches: [ "main" ]  

jobs:  
  build:  
    runs-on: ubuntu-latest  
    strategy:  
      fail-fast: false  
      matrix:  
        python-version: ["3.8"]  

    steps:  
    - uses: actions/checkout@v4  
      with:  
        fetch-depth: 0  
    - name: Set up Python ${{ matrix.python-version }}  
      uses: actions/setup-python@v3  
      with:  
        python-version: '3.8'  
    - name: Install dependencies  
      run: |  
        python -m pip install --upgrade pip  
    - name: Run test  
      run: |  
        python test.py  
    - name: Run test_2file  
      run: |  
        mkdir -p result  
        python -c "open('hello2.txt', 'a').write('Data generated at $(date)')"  
    - name: Upload a Build Artifact  
      uses: actions/upload-artifact@v4  
      with:  
        name: test-artifact  
        path: |  
          hello2.txt  
          result/  
        if-no-files-found: warn  
        retention-days: 5  
